FROM python:3.11-slim

WORKDIR /app

# Install MLflow and Postgres driver
# Using MLflow 3.5.0 for security fixes (upgraded from 2.11.3)
RUN pip install --no-cache-dir \
    mlflow==3.5.0 \
    psycopg2-binary==2.9.9

EXPOSE 5000
CMD ["mlflow", "server", "--help"]